{"id":"Isju","dependencies":[{"name":"/Users/ojack/PROJECTS/flujos/package.json","includedInParent":true,"mtime":1618339867251},{"name":"/Users/ojack/PROJECTS/flujos/node_modules/protoo-client/package.json","includedInParent":true,"mtime":1618112785836},{"name":"./Logger","loc":{"line":1,"column":23},"parent":"/Users/ojack/PROJECTS/flujos/node_modules/protoo-client/lib/Message.js","resolved":"/Users/ojack/PROJECTS/flujos/node_modules/protoo-client/lib/Logger.js"},{"name":"./utils","loc":{"line":2,"column":41},"parent":"/Users/ojack/PROJECTS/flujos/node_modules/protoo-client/lib/Message.js","resolved":"/Users/ojack/PROJECTS/flujos/node_modules/protoo-client/lib/utils.js"}],"generated":{"js":"const e=require(\"./Logger\"),{generateRandomNumber:r}=require(\"./utils\"),i=new e(\"Message\");class t{static parse(e){let r;const t={};try{r=JSON.parse(e)}catch(o){return void i.error(\"parse() | invalid JSON: %s\",o)}if(\"object\"==typeof r&&!Array.isArray(r)){if(r.request){if(t.request=!0,\"string\"!=typeof r.method)return void i.error(\"parse() | missing/invalid method field\");if(\"number\"!=typeof r.id)return void i.error(\"parse() | missing/invalid id field\");t.id=r.id,t.method=r.method,t.data=r.data||{}}else if(r.response){if(t.response=!0,\"number\"!=typeof r.id)return void i.error(\"parse() | missing/invalid id field\");t.id=r.id,r.ok?(t.ok=!0,t.data=r.data||{}):(t.ok=!1,t.errorCode=r.errorCode,t.errorReason=r.errorReason)}else{if(!r.notification)return void i.error(\"parse() | missing request/response field\");if(t.notification=!0,\"string\"!=typeof r.method)return void i.error(\"parse() | missing/invalid method field\");t.method=r.method,t.data=r.data||{}}return t}i.error(\"parse() | not an object\")}static createRequest(e,i){return{request:!0,id:r(),method:e,data:i||{}}}static createSuccessResponse(e,r){return{response:!0,id:e.id,ok:!0,data:r||{}}}static createErrorResponse(e,r,i){return{response:!0,id:e.id,ok:!1,errorCode:r,errorReason:i}}static createNotification(e,r){return{notification:!0,method:e,data:r||{}}}}module.exports=t;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/protoo-client/lib/Message.js","name":"Logger","original":{"line":1,"column":6},"generated":{"line":1,"column":6}},{"source":"node_modules/protoo-client/lib/Message.js","name":"require","original":{"line":1,"column":15},"generated":{"line":1,"column":8}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":1,"column":23},"generated":{"line":1,"column":16}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":2,"column":6},"generated":{"line":1,"column":29}},{"source":"node_modules/protoo-client/lib/Message.js","name":"generateRandomNumber","original":{"line":2,"column":8},"generated":{"line":1,"column":50}},{"source":"node_modules/protoo-client/lib/Message.js","name":"require","original":{"line":2,"column":33},"generated":{"line":1,"column":53}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":2,"column":41},"generated":{"line":1,"column":61}},{"source":"node_modules/protoo-client/lib/Message.js","name":"logger","original":{"line":4,"column":6},"generated":{"line":1,"column":72}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":4,"column":15},"generated":{"line":1,"column":74}},{"source":"node_modules/protoo-client/lib/Message.js","name":"Logger","original":{"line":4,"column":19},"generated":{"line":1,"column":78}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":4,"column":26},"generated":{"line":1,"column":80}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":6,"column":0},"generated":{"line":1,"column":91}},{"source":"node_modules/protoo-client/lib/Message.js","name":"Message","original":{"line":6,"column":6},"generated":{"line":1,"column":97}},{"source":"node_modules/protoo-client/lib/Message.js","name":"parse","original":{"line":8,"column":8},"generated":{"line":1,"column":99}},{"source":"node_modules/protoo-client/lib/Message.js","name":"raw","original":{"line":8,"column":14},"generated":{"line":1,"column":112}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":10,"column":6},"generated":{"line":1,"column":115}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":10,"column":6},"generated":{"line":1,"column":119}},{"source":"node_modules/protoo-client/lib/Message.js","name":"message","original":{"line":11,"column":8},"generated":{"line":1,"column":121}},{"source":"node_modules/protoo-client/lib/Message.js","name":"message","original":{"line":11,"column":8},"generated":{"line":1,"column":127}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":11,"column":18},"generated":{"line":1,"column":129}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":14,"column":2},"generated":{"line":1,"column":132}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":15,"column":3},"generated":{"line":1,"column":136}},{"source":"node_modules/protoo-client/lib/Message.js","name":"JSON","original":{"line":15,"column":12},"generated":{"line":1,"column":138}},{"source":"node_modules/protoo-client/lib/Message.js","name":"parse","original":{"line":15,"column":17},"generated":{"line":1,"column":143}},{"source":"node_modules/protoo-client/lib/Message.js","name":"raw","original":{"line":15,"column":23},"generated":{"line":1,"column":149}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":17,"column":2},"generated":{"line":1,"column":152}},{"source":"node_modules/protoo-client/lib/Message.js","name":"error","original":{"line":17,"column":9},"generated":{"line":1,"column":158}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":21,"column":3},"generated":{"line":1,"column":161}},{"source":"node_modules/protoo-client/lib/Message.js","name":"logger","original":{"line":19,"column":3},"generated":{"line":1,"column":173}},{"source":"node_modules/protoo-client/lib/Message.js","name":"error","original":{"line":19,"column":10},"generated":{"line":1,"column":175}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":19,"column":16},"generated":{"line":1,"column":181}},{"source":"node_modules/protoo-client/lib/Message.js","name":"error","original":{"line":19,"column":46},"generated":{"line":1,"column":210}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":24,"column":6},"generated":{"line":1,"column":213}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":24,"column":24},"generated":{"line":1,"column":216}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":24,"column":13},"generated":{"line":1,"column":233}},{"source":"node_modules/protoo-client/lib/Message.js","name":"Array","original":{"line":24,"column":36},"generated":{"line":1,"column":237}},{"source":"node_modules/protoo-client/lib/Message.js","name":"isArray","original":{"line":24,"column":42},"generated":{"line":1,"column":243}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":24,"column":50},"generated":{"line":1,"column":251}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":24,"column":6},"generated":{"line":1,"column":254}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":32,"column":6},"generated":{"line":1,"column":255}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":32,"column":6},"generated":{"line":1,"column":258}},{"source":"node_modules/protoo-client/lib/Message.js","name":"request","original":{"line":32,"column":13},"generated":{"line":1,"column":260}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":33,"column":2},"generated":{"line":1,"column":268}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":36,"column":7},"generated":{"line":1,"column":269}},{"source":"node_modules/protoo-client/lib/Message.js","name":"message","original":{"line":34,"column":3},"generated":{"line":1,"column":272}},{"source":"node_modules/protoo-client/lib/Message.js","name":"request","original":{"line":34,"column":11},"generated":{"line":1,"column":274}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":34,"column":21},"generated":{"line":1,"column":283}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":36,"column":32},"generated":{"line":1,"column":285}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":36,"column":14},"generated":{"line":1,"column":302}},{"source":"node_modules/protoo-client/lib/Message.js","name":"method","original":{"line":36,"column":21},"generated":{"line":1,"column":304}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":40,"column":4},"generated":{"line":1,"column":311}},{"source":"node_modules/protoo-client/lib/Message.js","name":"logger","original":{"line":38,"column":4},"generated":{"line":1,"column":323}},{"source":"node_modules/protoo-client/lib/Message.js","name":"error","original":{"line":38,"column":11},"generated":{"line":1,"column":325}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":38,"column":17},"generated":{"line":1,"column":331}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":43,"column":7},"generated":{"line":1,"column":373}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":43,"column":28},"generated":{"line":1,"column":376}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":43,"column":14},"generated":{"line":1,"column":393}},{"source":"node_modules/protoo-client/lib/Message.js","name":"id","original":{"line":43,"column":21},"generated":{"line":1,"column":395}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":47,"column":4},"generated":{"line":1,"column":398}},{"source":"node_modules/protoo-client/lib/Message.js","name":"logger","original":{"line":45,"column":4},"generated":{"line":1,"column":410}},{"source":"node_modules/protoo-client/lib/Message.js","name":"error","original":{"line":45,"column":11},"generated":{"line":1,"column":412}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":45,"column":17},"generated":{"line":1,"column":418}},{"source":"node_modules/protoo-client/lib/Message.js","name":"message","original":{"line":50,"column":3},"generated":{"line":1,"column":456}},{"source":"node_modules/protoo-client/lib/Message.js","name":"id","original":{"line":50,"column":11},"generated":{"line":1,"column":458}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":50,"column":16},"generated":{"line":1,"column":461}},{"source":"node_modules/protoo-client/lib/Message.js","name":"id","original":{"line":50,"column":23},"generated":{"line":1,"column":463}},{"source":"node_modules/protoo-client/lib/Message.js","name":"message","original":{"line":51,"column":3},"generated":{"line":1,"column":466}},{"source":"node_modules/protoo-client/lib/Message.js","name":"method","original":{"line":51,"column":11},"generated":{"line":1,"column":468}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":51,"column":20},"generated":{"line":1,"column":475}},{"source":"node_modules/protoo-client/lib/Message.js","name":"method","original":{"line":51,"column":27},"generated":{"line":1,"column":477}},{"source":"node_modules/protoo-client/lib/Message.js","name":"message","original":{"line":52,"column":3},"generated":{"line":1,"column":484}},{"source":"node_modules/protoo-client/lib/Message.js","name":"data","original":{"line":52,"column":11},"generated":{"line":1,"column":486}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":52,"column":18},"generated":{"line":1,"column":491}},{"source":"node_modules/protoo-client/lib/Message.js","name":"data","original":{"line":52,"column":25},"generated":{"line":1,"column":493}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":52,"column":33},"generated":{"line":1,"column":499}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":55,"column":7},"generated":{"line":1,"column":507}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":55,"column":11},"generated":{"line":1,"column":510}},{"source":"node_modules/protoo-client/lib/Message.js","name":"response","original":{"line":55,"column":18},"generated":{"line":1,"column":512}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":56,"column":2},"generated":{"line":1,"column":521}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":59,"column":7},"generated":{"line":1,"column":522}},{"source":"node_modules/protoo-client/lib/Message.js","name":"message","original":{"line":57,"column":3},"generated":{"line":1,"column":525}},{"source":"node_modules/protoo-client/lib/Message.js","name":"response","original":{"line":57,"column":11},"generated":{"line":1,"column":527}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":57,"column":22},"generated":{"line":1,"column":537}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":59,"column":28},"generated":{"line":1,"column":539}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":59,"column":14},"generated":{"line":1,"column":556}},{"source":"node_modules/protoo-client/lib/Message.js","name":"id","original":{"line":59,"column":21},"generated":{"line":1,"column":558}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":63,"column":4},"generated":{"line":1,"column":561}},{"source":"node_modules/protoo-client/lib/Message.js","name":"logger","original":{"line":61,"column":4},"generated":{"line":1,"column":573}},{"source":"node_modules/protoo-client/lib/Message.js","name":"error","original":{"line":61,"column":11},"generated":{"line":1,"column":575}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":61,"column":17},"generated":{"line":1,"column":581}},{"source":"node_modules/protoo-client/lib/Message.js","name":"message","original":{"line":66,"column":3},"generated":{"line":1,"column":619}},{"source":"node_modules/protoo-client/lib/Message.js","name":"id","original":{"line":66,"column":11},"generated":{"line":1,"column":621}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":66,"column":16},"generated":{"line":1,"column":624}},{"source":"node_modules/protoo-client/lib/Message.js","name":"id","original":{"line":66,"column":23},"generated":{"line":1,"column":626}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":69,"column":7},"generated":{"line":1,"column":629}},{"source":"node_modules/protoo-client/lib/Message.js","name":"ok","original":{"line":69,"column":14},"generated":{"line":1,"column":631}},{"source":"node_modules/protoo-client/lib/Message.js","name":"message","original":{"line":71,"column":4},"generated":{"line":1,"column":635}},{"source":"node_modules/protoo-client/lib/Message.js","name":"ok","original":{"line":71,"column":12},"generated":{"line":1,"column":637}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":71,"column":17},"generated":{"line":1,"column":641}},{"source":"node_modules/protoo-client/lib/Message.js","name":"message","original":{"line":72,"column":4},"generated":{"line":1,"column":643}},{"source":"node_modules/protoo-client/lib/Message.js","name":"data","original":{"line":72,"column":12},"generated":{"line":1,"column":645}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":72,"column":19},"generated":{"line":1,"column":650}},{"source":"node_modules/protoo-client/lib/Message.js","name":"data","original":{"line":72,"column":26},"generated":{"line":1,"column":652}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":72,"column":34},"generated":{"line":1,"column":658}},{"source":"node_modules/protoo-client/lib/Message.js","name":"message","original":{"line":77,"column":4},"generated":{"line":1,"column":663}},{"source":"node_modules/protoo-client/lib/Message.js","name":"ok","original":{"line":77,"column":12},"generated":{"line":1,"column":665}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":77,"column":17},"generated":{"line":1,"column":669}},{"source":"node_modules/protoo-client/lib/Message.js","name":"message","original":{"line":78,"column":4},"generated":{"line":1,"column":671}},{"source":"node_modules/protoo-client/lib/Message.js","name":"errorCode","original":{"line":78,"column":12},"generated":{"line":1,"column":673}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":78,"column":24},"generated":{"line":1,"column":683}},{"source":"node_modules/protoo-client/lib/Message.js","name":"errorCode","original":{"line":78,"column":31},"generated":{"line":1,"column":685}},{"source":"node_modules/protoo-client/lib/Message.js","name":"message","original":{"line":79,"column":4},"generated":{"line":1,"column":695}},{"source":"node_modules/protoo-client/lib/Message.js","name":"errorReason","original":{"line":79,"column":12},"generated":{"line":1,"column":697}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":79,"column":26},"generated":{"line":1,"column":709}},{"source":"node_modules/protoo-client/lib/Message.js","name":"errorReason","original":{"line":79,"column":33},"generated":{"line":1,"column":711}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":83,"column":7},"generated":{"line":1,"column":728}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":83,"column":7},"generated":{"line":1,"column":729}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":83,"column":11},"generated":{"line":1,"column":733}},{"source":"node_modules/protoo-client/lib/Message.js","name":"notification","original":{"line":83,"column":18},"generated":{"line":1,"column":735}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":102,"column":3},"generated":{"line":1,"column":748}},{"source":"node_modules/protoo-client/lib/Message.js","name":"logger","original":{"line":100,"column":3},"generated":{"line":1,"column":760}},{"source":"node_modules/protoo-client/lib/Message.js","name":"error","original":{"line":100,"column":10},"generated":{"line":1,"column":762}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":100,"column":16},"generated":{"line":1,"column":768}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":87,"column":7},"generated":{"line":1,"column":812}},{"source":"node_modules/protoo-client/lib/Message.js","name":"message","original":{"line":85,"column":3},"generated":{"line":1,"column":815}},{"source":"node_modules/protoo-client/lib/Message.js","name":"notification","original":{"line":85,"column":11},"generated":{"line":1,"column":817}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":85,"column":26},"generated":{"line":1,"column":831}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":87,"column":32},"generated":{"line":1,"column":833}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":87,"column":14},"generated":{"line":1,"column":850}},{"source":"node_modules/protoo-client/lib/Message.js","name":"method","original":{"line":87,"column":21},"generated":{"line":1,"column":852}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":91,"column":4},"generated":{"line":1,"column":859}},{"source":"node_modules/protoo-client/lib/Message.js","name":"logger","original":{"line":89,"column":4},"generated":{"line":1,"column":871}},{"source":"node_modules/protoo-client/lib/Message.js","name":"error","original":{"line":89,"column":11},"generated":{"line":1,"column":873}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":89,"column":17},"generated":{"line":1,"column":879}},{"source":"node_modules/protoo-client/lib/Message.js","name":"message","original":{"line":94,"column":3},"generated":{"line":1,"column":921}},{"source":"node_modules/protoo-client/lib/Message.js","name":"method","original":{"line":94,"column":11},"generated":{"line":1,"column":923}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":94,"column":20},"generated":{"line":1,"column":930}},{"source":"node_modules/protoo-client/lib/Message.js","name":"method","original":{"line":94,"column":27},"generated":{"line":1,"column":932}},{"source":"node_modules/protoo-client/lib/Message.js","name":"message","original":{"line":95,"column":3},"generated":{"line":1,"column":939}},{"source":"node_modules/protoo-client/lib/Message.js","name":"data","original":{"line":95,"column":11},"generated":{"line":1,"column":941}},{"source":"node_modules/protoo-client/lib/Message.js","name":"object","original":{"line":95,"column":18},"generated":{"line":1,"column":946}},{"source":"node_modules/protoo-client/lib/Message.js","name":"data","original":{"line":95,"column":25},"generated":{"line":1,"column":948}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":95,"column":33},"generated":{"line":1,"column":954}},{"source":"node_modules/protoo-client/lib/Message.js","name":"message","original":{"line":105,"column":9},"generated":{"line":1,"column":957}},{"source":"node_modules/protoo-client/lib/Message.js","name":"message","original":{"line":105,"column":9},"generated":{"line":1,"column":964}},{"source":"node_modules/protoo-client/lib/Message.js","name":"logger","original":{"line":26,"column":3},"generated":{"line":1,"column":966}},{"source":"node_modules/protoo-client/lib/Message.js","name":"error","original":{"line":26,"column":10},"generated":{"line":1,"column":968}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":26,"column":16},"generated":{"line":1,"column":974}},{"source":"node_modules/protoo-client/lib/Message.js","name":"createRequest","original":{"line":108,"column":8},"generated":{"line":1,"column":1001}},{"source":"node_modules/protoo-client/lib/Message.js","name":"method","original":{"line":108,"column":22},"generated":{"line":1,"column":1022}},{"source":"node_modules/protoo-client/lib/Message.js","name":"data","original":{"line":108,"column":30},"generated":{"line":1,"column":1024}},{"source":"node_modules/protoo-client/lib/Message.js","name":"request","original":{"line":118,"column":9},"generated":{"line":1,"column":1027}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":111,"column":2},"generated":{"line":1,"column":1033}},{"source":"node_modules/protoo-client/lib/Message.js","name":"request","original":{"line":112,"column":3},"generated":{"line":1,"column":1034}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":112,"column":13},"generated":{"line":1,"column":1043}},{"source":"node_modules/protoo-client/lib/Message.js","name":"id","original":{"line":113,"column":3},"generated":{"line":1,"column":1045}},{"source":"node_modules/protoo-client/lib/Message.js","name":"generateRandomNumber","original":{"line":113,"column":13},"generated":{"line":1,"column":1048}},{"source":"node_modules/protoo-client/lib/Message.js","name":"method","original":{"line":114,"column":3},"generated":{"line":1,"column":1052}},{"source":"node_modules/protoo-client/lib/Message.js","name":"method","original":{"line":114,"column":13},"generated":{"line":1,"column":1059}},{"source":"node_modules/protoo-client/lib/Message.js","name":"data","original":{"line":115,"column":3},"generated":{"line":1,"column":1061}},{"source":"node_modules/protoo-client/lib/Message.js","name":"data","original":{"line":115,"column":13},"generated":{"line":1,"column":1066}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":115,"column":21},"generated":{"line":1,"column":1069}},{"source":"node_modules/protoo-client/lib/Message.js","name":"createSuccessResponse","original":{"line":121,"column":8},"generated":{"line":1,"column":1073}},{"source":"node_modules/protoo-client/lib/Message.js","name":"request","original":{"line":121,"column":30},"generated":{"line":1,"column":1102}},{"source":"node_modules/protoo-client/lib/Message.js","name":"data","original":{"line":121,"column":39},"generated":{"line":1,"column":1104}},{"source":"node_modules/protoo-client/lib/Message.js","name":"response","original":{"line":131,"column":9},"generated":{"line":1,"column":1107}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":124,"column":2},"generated":{"line":1,"column":1113}},{"source":"node_modules/protoo-client/lib/Message.js","name":"response","original":{"line":125,"column":3},"generated":{"line":1,"column":1114}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":125,"column":14},"generated":{"line":1,"column":1124}},{"source":"node_modules/protoo-client/lib/Message.js","name":"id","original":{"line":126,"column":3},"generated":{"line":1,"column":1126}},{"source":"node_modules/protoo-client/lib/Message.js","name":"request","original":{"line":126,"column":14},"generated":{"line":1,"column":1129}},{"source":"node_modules/protoo-client/lib/Message.js","name":"id","original":{"line":126,"column":22},"generated":{"line":1,"column":1131}},{"source":"node_modules/protoo-client/lib/Message.js","name":"ok","original":{"line":127,"column":3},"generated":{"line":1,"column":1134}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":127,"column":14},"generated":{"line":1,"column":1138}},{"source":"node_modules/protoo-client/lib/Message.js","name":"data","original":{"line":128,"column":3},"generated":{"line":1,"column":1140}},{"source":"node_modules/protoo-client/lib/Message.js","name":"data","original":{"line":128,"column":14},"generated":{"line":1,"column":1145}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":128,"column":22},"generated":{"line":1,"column":1148}},{"source":"node_modules/protoo-client/lib/Message.js","name":"createErrorResponse","original":{"line":134,"column":8},"generated":{"line":1,"column":1152}},{"source":"node_modules/protoo-client/lib/Message.js","name":"request","original":{"line":134,"column":28},"generated":{"line":1,"column":1179}},{"source":"node_modules/protoo-client/lib/Message.js","name":"errorCode","original":{"line":134,"column":37},"generated":{"line":1,"column":1181}},{"source":"node_modules/protoo-client/lib/Message.js","name":"errorReason","original":{"line":134,"column":48},"generated":{"line":1,"column":1183}},{"source":"node_modules/protoo-client/lib/Message.js","name":"response","original":{"line":145,"column":9},"generated":{"line":1,"column":1186}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":137,"column":2},"generated":{"line":1,"column":1192}},{"source":"node_modules/protoo-client/lib/Message.js","name":"response","original":{"line":138,"column":3},"generated":{"line":1,"column":1193}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":138,"column":17},"generated":{"line":1,"column":1203}},{"source":"node_modules/protoo-client/lib/Message.js","name":"id","original":{"line":139,"column":3},"generated":{"line":1,"column":1205}},{"source":"node_modules/protoo-client/lib/Message.js","name":"request","original":{"line":139,"column":17},"generated":{"line":1,"column":1208}},{"source":"node_modules/protoo-client/lib/Message.js","name":"id","original":{"line":139,"column":25},"generated":{"line":1,"column":1210}},{"source":"node_modules/protoo-client/lib/Message.js","name":"ok","original":{"line":140,"column":3},"generated":{"line":1,"column":1213}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":140,"column":17},"generated":{"line":1,"column":1217}},{"source":"node_modules/protoo-client/lib/Message.js","name":"errorCode","original":{"line":141,"column":3},"generated":{"line":1,"column":1219}},{"source":"node_modules/protoo-client/lib/Message.js","name":"errorCode","original":{"line":141,"column":17},"generated":{"line":1,"column":1229}},{"source":"node_modules/protoo-client/lib/Message.js","name":"errorReason","original":{"line":142,"column":3},"generated":{"line":1,"column":1231}},{"source":"node_modules/protoo-client/lib/Message.js","name":"errorReason","original":{"line":142,"column":17},"generated":{"line":1,"column":1243}},{"source":"node_modules/protoo-client/lib/Message.js","name":"createNotification","original":{"line":148,"column":8},"generated":{"line":1,"column":1246}},{"source":"node_modules/protoo-client/lib/Message.js","name":"method","original":{"line":148,"column":27},"generated":{"line":1,"column":1272}},{"source":"node_modules/protoo-client/lib/Message.js","name":"data","original":{"line":148,"column":35},"generated":{"line":1,"column":1274}},{"source":"node_modules/protoo-client/lib/Message.js","name":"notification","original":{"line":157,"column":9},"generated":{"line":1,"column":1277}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":151,"column":2},"generated":{"line":1,"column":1283}},{"source":"node_modules/protoo-client/lib/Message.js","name":"notification","original":{"line":152,"column":3},"generated":{"line":1,"column":1284}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":152,"column":18},"generated":{"line":1,"column":1298}},{"source":"node_modules/protoo-client/lib/Message.js","name":"method","original":{"line":153,"column":3},"generated":{"line":1,"column":1300}},{"source":"node_modules/protoo-client/lib/Message.js","name":"method","original":{"line":153,"column":18},"generated":{"line":1,"column":1307}},{"source":"node_modules/protoo-client/lib/Message.js","name":"data","original":{"line":154,"column":3},"generated":{"line":1,"column":1309}},{"source":"node_modules/protoo-client/lib/Message.js","name":"data","original":{"line":154,"column":18},"generated":{"line":1,"column":1314}},{"source":"node_modules/protoo-client/lib/Message.js","original":{"line":154,"column":26},"generated":{"line":1,"column":1317}},{"source":"node_modules/protoo-client/lib/Message.js","name":"module","original":{"line":161,"column":0},"generated":{"line":1,"column":1322}},{"source":"node_modules/protoo-client/lib/Message.js","name":"exports","original":{"line":161,"column":7},"generated":{"line":1,"column":1329}},{"source":"node_modules/protoo-client/lib/Message.js","name":"Message","original":{"line":161,"column":17},"generated":{"line":1,"column":1337}}],"sources":{"node_modules/protoo-client/lib/Message.js":"const Logger = require('./Logger');\nconst { generateRandomNumber } = require('./utils');\n\nconst logger = new Logger('Message');\n\nclass Message\n{\n\tstatic parse(raw)\n\t{\n\t\tlet object;\n\t\tconst message = {};\n\n\t\ttry\n\t\t{\n\t\t\tobject = JSON.parse(raw);\n\t\t}\n\t\tcatch (error)\n\t\t{\n\t\t\tlogger.error('parse() | invalid JSON: %s', error);\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (typeof object !== 'object' || Array.isArray(object))\n\t\t{\n\t\t\tlogger.error('parse() | not an object');\n\n\t\t\treturn;\n\t\t}\n\n\t\t// Request.\n\t\tif (object.request)\n\t\t{\n\t\t\tmessage.request = true;\n\n\t\t\tif (typeof object.method !== 'string')\n\t\t\t{\n\t\t\t\tlogger.error('parse() | missing/invalid method field');\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (typeof object.id !== 'number')\n\t\t\t{\n\t\t\t\tlogger.error('parse() | missing/invalid id field');\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmessage.id = object.id;\n\t\t\tmessage.method = object.method;\n\t\t\tmessage.data = object.data || {};\n\t\t}\n\t\t// Response.\n\t\telse if (object.response)\n\t\t{\n\t\t\tmessage.response = true;\n\n\t\t\tif (typeof object.id !== 'number')\n\t\t\t{\n\t\t\t\tlogger.error('parse() | missing/invalid id field');\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmessage.id = object.id;\n\n\t\t\t// Success.\n\t\t\tif (object.ok)\n\t\t\t{\n\t\t\t\tmessage.ok = true;\n\t\t\t\tmessage.data = object.data || {};\n\t\t\t}\n\t\t\t// Error.\n\t\t\telse\n\t\t\t{\n\t\t\t\tmessage.ok = false;\n\t\t\t\tmessage.errorCode = object.errorCode;\n\t\t\t\tmessage.errorReason = object.errorReason;\n\t\t\t}\n\t\t}\n\t\t// Notification.\n\t\telse if (object.notification)\n\t\t{\n\t\t\tmessage.notification = true;\n\n\t\t\tif (typeof object.method !== 'string')\n\t\t\t{\n\t\t\t\tlogger.error('parse() | missing/invalid method field');\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tmessage.method = object.method;\n\t\t\tmessage.data = object.data || {};\n\t\t}\n\t\t// Invalid.\n\t\telse\n\t\t{\n\t\t\tlogger.error('parse() | missing request/response field');\n\n\t\t\treturn;\n\t\t}\n\n\t\treturn message;\n\t}\n\n\tstatic createRequest(method, data)\n\t{\n\t\tconst request =\n\t\t{\n\t\t\trequest : true,\n\t\t\tid      : generateRandomNumber(),\n\t\t\tmethod  : method,\n\t\t\tdata    : data || {}\n\t\t};\n\n\t\treturn request;\n\t}\n\n\tstatic createSuccessResponse(request, data)\n\t{\n\t\tconst response =\n\t\t{\n\t\t\tresponse : true,\n\t\t\tid       : request.id,\n\t\t\tok       : true,\n\t\t\tdata     : data || {}\n\t\t};\n\n\t\treturn response;\n\t}\n\n\tstatic createErrorResponse(request, errorCode, errorReason)\n\t{\n\t\tconst response =\n\t\t{\n\t\t\tresponse    : true,\n\t\t\tid          : request.id,\n\t\t\tok          : false,\n\t\t\terrorCode   : errorCode,\n\t\t\terrorReason : errorReason\n\t\t};\n\n\t\treturn response;\n\t}\n\n\tstatic createNotification(method, data)\n\t{\n\t\tconst notification =\n\t\t{\n\t\t\tnotification : true,\n\t\t\tmethod       : method,\n\t\t\tdata         : data || {}\n\t\t};\n\n\t\treturn notification;\n\t}\n}\n\nmodule.exports = Message;\n"},"lineCount":null}},"error":null,"hash":"ae9206093e1377ed3b9eb8d9d0111119","cacheData":{"env":{}}}